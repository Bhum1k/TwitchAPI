const axios = require('axios');

const data = [['42 Signature Blend English Tea', 'Quests: 1x FIR for the quest Collector'], ['Apollo Soyuz cigarettes', ''], ['Aramid fiber fabric', 'Quests: 5x FIR for the quest Textile - Part 1'], ['Battered antique book', 'Quests: 1x FIR for the quest Collector'], ['BEAR Buddy plush toy', 'Quests: 1x FIR for the quest Collector'], ['Pack of Arseniy buckwheat', ''], ["Can of Dr. Lupo's coffee beans", 'Quests: 1x FIR for the quest Collector'], ['Can of Majaica coffee beans', 'Hideout: 3x for Nutrition Unit level 3'], ['Cordura polyamide fabric', 'Quests: 10x FIR for the quest Textile - Part 2'], ['Fleece fabric', 'Quests: 10x FIR for the quest Textile - Part 2, Hideout: 1x for the Defective Wall level 2, 5x for Hall of Fame level 1'], ['FP-100 filter absorber', 'Hideout: Used to run the Air Filtering Unit'], ['Gas mask air filter', 'Hideout: 5x for Air Filtering Unit'], ['Gunpowder "Eagle"', ''], ['Gunpowder "Hawk"', ''], ['Gunpowder "Kite"', 'Quests: 3 are used in the quest Health Care Privacy - Part 5'], ['Loot Lord plushie', 'Quests: 1x FIR for the quest Collector'], ['Malboro Cigarettes', 'Quests: 5x FIR for the quest Bad Habit'], ['OFZ 30x160mm shell', 'Quests: 5x FIR for the quest Regulated Materials'], ['Paracord', 'Quests: 3x FIR for the quest Textile - Part 1'], ['Press pass (issued for NoiceGuy)', 'Quests: 1x FIR for the quest Collector'], ['Ripstop fabric', 'Quests: 10x FIR for the quest Textile - Part 1'], ['Strike Cigarettes', 'Quests: 5x FIR for the quest Bad Habit'], ['UZRGM grenade fuze', ''], ['Water filter', 'Hideout: Used to run the Water Collector'], ['Weapon parts', 'Hideout: 3x for Workbench level 2, 5x for Weapon Rack level 2'], ['Wilston cigarettes', 'Quests: 5x FIR for the quest Bad Habit'], ['Analog thermometer', 'Hideout: 2x for Booze Generator'], ['Bolts', 'Hideout: 2x for Gym, 1x for the Shooting Range level 1, 10x for Stash level 4, 5x for Water Collector level 1, 2x for Workbench level 1, 6x for Workbench level 2, 15x for Weapon Rack level 1'], ['Corrugated hose', 'Quests: 2x FIR for the quest Spa Tour - Part 3, 2x FIR for the quest Spa Tour - Part 7, Hideout: 5x for Booze Generator, 2x for Defective Wall level 6, 3x for Lavatory level 2, 6x for Lavatory level 3, 2x for Nutrition Unit level 2, 4x for Water Collector level 1, 6x for Water Collector level 2'], ['Duct tape', 'Hideout: 1x for the Defective Wall level 6, 1x for the Rest Space level 1, 3x for Water Collector level 1, 5x for Weapon Rack level 2, 3x for Hall of Fame level 2'], ['Insulating tape', 'Quests: 1x FIR for the quest Key to the Tower, Hideout: 1x for the Gym, 5x for Weapon Rack level 1, 2x for Hall of Fame level 1'], ['KEKTAPE duct tape', 'Quests: 5x FIR for the quest Textile - Part 2, Hideout: 1x for the Lavatory level 2, 2x for Water Collector level 2, 5x for Weapon Rack level 3, 3x for Hall of Fame level 3'], ['Metal spare parts', 'Hideout: 2x for Booze Generator, 5x for Defective Wall level 3, 7x for Generator level 3, 1x for the Shooting Range level 1, 5x for Shooting Range level 2, 5x for Shooting Range level 3, 2x for Vents level 2, 5x for Vents level 3, 5x for Weapon Rack level 2, 10x for Weapon Rack level 3, 15x for Hall of Fame level 3'], ['Military corrugated tube', 'Hideout: 3x for Air Filtering Unit, 2x for Heating level 3'], ['Pack of nails', 'Hideout: 5x for Stash level 2, 7x for Stash level 3, 5x for Weapon Rack level 1, 5x for Hall of Fame level 1'], ['Pack of screws', 'Hideout: 5x for Lavatory level 2, 3x for Shooting Range level 2, 10x for Stash level 2, 15x for Stash level 3, 10x for Weapon Rack level 2, 6x for Hall of Fame level 2'], ['Piece of plexiglass', 'Quests: 2x FIR for the quest Key to the Tower'], ['Pressure gauge', 'Hideout: 10x for Bitcoin Farm level 3, 2x for Booze Generator, 2x for Lavatory level 3'], ['Screw nuts', 'Hideout: 3x for Gym, 1x for the Shooting Range level 1, 10x for Stash level 4, 5x for Water Collector level 1, 2x for Workbench level 1'], ['Shustrilo sealing foam', 'Hideout: 5x for Stash level 4, 5x for Water Collector level 3, 3x for Weapon Rack level 3'], ['Silicone tube', 'Hideout: 15x for Bitcoin Farm level 3, 4x for Booze Generator'], ['Tube of Poxeram cold welding', 'Hideout: 1x for the Shooting Range level 2, 3x for Weapon Rack level 2'], ['Xenomorph sealing foam', 'Hideout: 1x for the Defective Wall level 6, 3x for Lavatory level 3, 3x for Weapon Rack level 1, 2x for Hall of Fame level 2'], ['Broken GPhone X smartphone', ''], ['Broken GPhone smartphone', 'Quests: 3 x FIR for the quest Signal - Part 2, 4 x FIR for the quest Network Provider - Part 1'], ['Broken LCD', ''], ['Bundle of wires', 'Quests: 5 x FIR for the quest Fertilizers, Hideout: 2x for Defective Wall level 6, 15x for Generator level 2, 8x for Heating level 3, 10x for Illumination level 2, 6x for Illumination level 3, 7x for Rest Space level 3, 4x for Security level 3, 3x for Shooting Range level 2, 5x for Shooting Range level 3, 14x for Vents level 3, 10x for Weapon Rack level 2, 15x for Weapon Rack level 3'], ['Capacitors', 'Quests: 5 x FIR for the quest Fertilizers, Hideout: 7x for Illumination level 3, 5x for Rest Space level 3, 5x for Shooting Range level 3'], ['CPU fan', 'Quests: 15x FIR for the quest Farming - Part 4, Hideout: 15x for Bitcoin Farm level 1, 15x for Bitcoin Farm level 2, 25x for Bitcoin Farm level 3, 3x for Vents level 2'], ['Damaged hard drive', 'Hideout: 4x for intelligence Center level 2'], ['DVD drive', 'Hideout: 1x for the Rest Space level 2'], ['Electric drill', 'Hideout: 1x for the Gym, 1x for the Lavatory level 2, 2x for Stash level 2, 1x for the Shooting Range level 2, 2x for Workbench level 2, 1x for the Weapon Rack level 2, 1x for the Weapon Rack level 3, 1x for the Hall of Fame level 3'], ['Electric motor', 'Hideout: 10x for Bitcoin Farm level 3, 1x for the Generator level 2, 3x for Generator level 3, 6x for Shooting Range level 2, 1x for the Vents level 2, 4x for Vents level 3, 2x for Water Collector level 2'], ['Electronic components', 'Quests: 4x FIR for the quest Network Provider - Part 1'], ['Energy-saving lamp', 'Hideout: 12x for Illumination level 3, 3x for Rest Space level 2, 6x for Shooting Range level 2, 5x for Weapon Rack level 2, 10x for Weapon Rack level 2, 15x for Weapon Rack level 3, 10x for Hall of Fame level 2, 15x for Hall of Fame level 3'], ['Advanced current converter', 'Hideout: 1x for the Solar Power'], ['Far-forward GPS Signal Amplifier Unit', 'Hideout: 1x for the Intelligence Center level 3'], ['Gas analyzer', 'Quests: 1 x FIR for the quest Sanitary Standards - Part 1, 2 x FIR for the quest Sanitary Standards - Part 2, 4 x FIR for the quest Network Provider - Part 1'], ['Geiger-Muller counter', ''], ['Golden 1GPhone smartphone', 'Quests: 1x FIR for the quest Collector'], ['Graphics card', 'Quests: 3 x FIR for the quest Farming - Part 4'], ['Iridium military thermal vision module', ''], ['Light bulb', 'Hideout: 2x for Defective Wall level 6, 14x for Illumination level 2, 5x for Hall of Fame level 1'], ['Magnet', 'Hideout: 1x for the Rest Space level 2'], ['Microcontroller board', ''], ['Military cable', 'Hideout: 5x for Intelligence Center level 3, 10x for Solar Power'], ['Military circuit board', 'Quests: 2x FIR for the quest Key to the Tower'], ['Military COFDM Wireless Signal Transmitter', 'Quests: 1 x FIR for the quest Lend-Lease - Part 2, 5 x FIR for the quest Special Equipment, 4 x FIR for the quest Network Provider - Part 1, 1 x FIR for the quest Key to the Tower, Hideout: 2x for Intelligence Center level 3'], ['Military gyrotachometer', ''], ['Military power filter', 'Hideout: 5x for Air Filtering Unit, 2x for Bitcoin Farm level 2, 10x for Solar Power'], ['NIXXOR lens', 'Hideout: 8x for Security level 3'], ['PC CPU', 'Quests: 3x FIR for the quest Signal - Part 2'], ['Phase control relay', 'Hideout: 5x for Bitcoin Farm level 2, 5x for Generator level 2, 6x for Generator level 3, 4x for Heating level 3, 2x for Nutrition Unit level 1, 1x for the Nutrition Unit level 2, 3x for Shooting Range level 3'], ['Phased array element', 'Hideout: 4x for Solar Power'], ['Power cord', 'Quests: 2 x FIR for the quest Farming - Part 2, Hideout: 10x for Bitcoin Farm level 1, 7x for Intelligence Center level 2, 1x for the Nutrition Unit level 1, 4x for Rest Space level 3, 5x for Shooting Range level 3, 5x for Hall of Fame level 3'], ['Power supply unit', 'Hideout: 10x for Bitcoin Farm level 1, 10x for Bitcoin Farm level 2, 5x for Generator level 3'], ['Printed circuit board', 'Quests: 2 x FIR for the quest Farming - Part 2, 3 x FIR for the quest Signal - Part 2, Hideout: 15x for Bitcoin Farm level 2, 3x for Shooting Range level 3, 5x for Vents level 3'], ['Radiator helix', 'Hideout: 3x for Booze Generator, 8x for Heating level 3'], ['RAM', ''], ['Spark plug', 'Quests: 8 x FIR for the quest Car Repair, Hideout: 1x for the Generator level 1, 10x for Generator level 3'], ['T-Shaped plug', 'Quests: 4 x FIR for the quest Farming - Part 2, Hideout: 5x for Bitcoin Farm level 1, 3x for Hall of Fame level 3'], ['Tetriz portable game console', ''], ['UHF RFID Reader', 'Quests: 1 x FIR for the quest Import, 5 x FIR for the quest Special Equipment'], ['Ultraviolet lamp', ''], ['USB Adapter', ''], ['Virtex programmable processor', 'Quests: 2 x FIR for the quest Lend-Lease - Part 2, 5 x FIR for the quest Special Equipment'], ['VPX Flash Storage Module', 'Quests: 1 x FIR for the quest Import, 5 x FIR for the quest Special Equipment, Hideout: 1x for the Bitcoin Farm level 1, 2x for Intelligence Center level 3'], ['Working LCD', 'Quests: 1x FIR for the quest Key to the Tower, Hideout: 2x for Security level 3, 3x for Solar Power'], ['6-STEN-140-M military battery', 'Quests: 1x FIR for the quest Regulated Materials, Hideout: 1x for the Bitcoin Farm level 3'], ['AA Battery', ''], ['Car battery', 'Quests: 4 x FIR for the quest Car Repair, Hideout: 1x for the Vents level 2, 4x for Vents level 3'], ['Cyclon rechargeable battery', ''], ['D Size battery', ''], ['GreenBat lithium battery', 'Hideout: 5x for Rest Space level 3'], ['Portable Powerbank', ''], ['Rechargeable battery', 'Quests: 3 x FIR for the quest Signal - Part 2'], ['Can of thermite', 'Hideout: 2x for Workbench level 3'], ['Classic matches', 'Hideout: 2x for Heating level 1, 1x for the Rest Space level 1'], ['Crickent lighter', 'Hideout: 3x for Heating level 2, 1x for the Illumination level 1'], ['Dry fuel', 'Hideout: 3x for Heating level 2'], ['Expeditionary fuel tank', 'Hideout: Can be used as fuel to run the Generator'], ['#FireKlean gun lube', 'Quests: 1x FIR for the quest Collector, Hideout: 1x for the Workbench level 3, 1x for the Weapon Rack level 3'], ['Fuel conditioner', 'Quests: 4x FIR for the quest The Blood of War - Part 2'], ['Hunting matches', 'Hideout: 2x for Heating level 2'], ['Metal fuel tank', 'Hideout: Can be used as fuel to run the Generator'], ['Propane tank (5L)', 'Quests: 2x FIR for the quest Spa Tour - Part 7'], ['SurvL Survivor Lighter', ''], ['TP-200 TNT brick', 'Hideout: 1x for the Security level 2'], ['WD-40 (400ml)', ''], ['WD-40 100ml', 'Quests: 1 x FIR for the quest Spa Tour - Part 3, Hideout: 1x for the Gym, 1x for the Security level 2, 4x for Stash level 2'], ['Zibbo lighter', ''], ['Alkaline cleaner for heat exchangers', 'Quests: 2x FIR for the quest Spa Tour - Part 7, Hideout: 2x for Nutrition Unit level 2'], ['Can of white salt', 'Hideout: 1x for the Nutrition Unit level 1'], ['Clin window cleaner', 'Quests: 2 x FIR for the quest Spa Tour - Part 3'], ["Deadlyslob's beard oil", 'Quests: 1x FIR for the quest Collector'], ["LVNDMARK's rat poison", 'Quests: 1x FIR for the quest Collector'], ['Ortodontox toothpaste', 'Hideout: 2x for Hall of Fame level 2'], ['Ox bleach', 'Quests: 3 x FIR for the quest Spa Tour - Part 3'], ['Pack of chlorine', ''], ['Pack of sodium bicarbonate', 'Hideout: 3x for Nutrition Unit level 3'], ['PAID AntiRoach spray', ''], ['Printer paper', ''], ['Repellent', ''], ['Schaman shampoo', ''], ['Smoked Chimney drain cleaner', 'Hideout: 2x for Nutrition Unit level 3'], ['Soap', 'Hideout: 1x for the Lavatory level 1'], ['Toilet paper', 'Quests: 1 is used in the quest Provocation, Hideout: 1x for the Lavatory level 1'], ['Toothpaste', 'Hideout: 1x for the Lavatory level 1'], ['Aquapeps water purification tablets', ''], ['Bottle of hydrogen peroxide', ''], ['Bottle of OLOLO Multivitamins', 'Quests: 10x FIR for the quest Crisis, Hideout: 1x for the Medstation level 1'], ['Bottle of saline solution', 'Hideout: 3x for Medstation level 2, 4x for Medstation level 3'], ['Disposable syringe', 'Hideout: 1x for the Medstation level 1'], ['LEDX Skin Transilluminator', 'Quests: 1 x FIR for the quest Private Clinic, 2 x FIR for the quest Crisis, Hideout: 1x for the Medstation level 3'], ['Medical bloodset', 'Quests: 3 x FIR for the quest Vitamins - Part 2, Hideout: 2x for Medstation level 2'], ['Medical tools', 'Hideout: 3x for Medstation level 2'], ['Ophthalmoscope', 'Quests: 1x FIR for the quest Private Clinic, 3x FIR for the quest Crisis, Hideout: 1x for the Medstation level 3'], ['Pile of meds', 'Quests: 20 x FIR for the quest Crisis, Hideout: 1x for the Medstation level 1'], ['Portable defibrillator', 'Quests: 1 x FIR for the quest Ambulance, 3 x FIR for the quest Crisis'], ['Awl', 'Hideout: 1x for the Lavatory level 1'], ['Bulbex cable cutter', 'Hideout: 1x for the Generator level 2'], ['Construction measuring tape', 'Hideout: 1x for the Security level 1, 1x for the Shooting Range level 2'], ['Fierce Blow sledgehammer', 'Hideout: 1x for the Defective Wall level 4'], ['Flat screwdriver', ''], ['Flat screwdriver (Long)', ''], ['Hand drill', 'Hideout: 1x for the Stash level 2, 1x for the Weapon Rack level 1'], ['Metal cutting scissors', 'Hideout: 1x for the Defective Wall level 5, 1x for the Gym, 1x for the Weapon Rack level 1'], ['Nippers', ''], ['Old firesteel', 'Quests: 1x FIR for the quest Collector'], ['Pipe grip wrench', 'Hideout: 1x for the Booze Generator'], ['Pliers', ''], ['Pliers Elite', 'Hideout: 1x for the Defective Wall level 6, 1x for the Security level 2, 2x for Water Collector level 3, 2x for Workbench level 3, 1x for the Hall of Fame level 2'], ['Ratchet wrench', 'Hideout: 2x for Stash level 4, 1x for the Water Collector level 3'], ['Round pliers', ''], ['Screwdriver', ''], ['Set of files "Master"', 'Hideout: 1x for the Workbench level 2, 1x for the Shooting Range level 3, 1x for the Weapon Rack level 2, 1x for the Hall of Fame level 3'], ['Sewing kit', 'Hideout: 2x for Lavatory level 2'], ['Toolset', 'Quests: 2 are used in the quest Farming - Part 1, Hideout: 1x for the Gym, 1x for the Defective Wall level 5, 1x for the Defective Wall level 6, 1x for the Lavatory level 3, 1x for the Shooting Range level 2, 2x for Water Collector level 2, 3x for Workbench level 2, 1x for the Hall of Fame level 2'], ['Wrench', 'Hideout: 4x for Nutrition Unit level 2'], ['Name \tNotes', ''], ['Antique teapot', 'Quests: 3x FIR for the quest Living High is Not a Crime - Part 2'], ['Antique vase', 'Quests: 2x FIR for the quest Living High is Not a Crime - Part 2'], ['Axel parrot figurine', 'Quests: 1x FIR for the quest Collector, 1x FIR for the quest Living High is Not a Crime - Part 2'], ['Bronze lion figurine', 'Quests: 2x FIR for the quest Living High is Not a Crime - Part 1, Hideout: 3x for Scav Case, 1x for the Hall of Fame level 3'], ['Cat figurine', 'Quests: 1x FIR for the quest Living High is Not a Crime - Part 1, Hideout: 1x for the Hall of Fame level 1'], ['Chain with Prokill medallion', ''], ['Chainlet', 'Hideout: 2x for Library'], ['Christmas tree ornament (Red)\tEvent Item', ''], ['Christmas tree ornament (Silver)\tEvent Item', ''], ['Christmas tree ornament (Violet)\tEvent Item', ''], ['Gold skull ring', 'Hideout: 6x for Scav Case'], ['Golden egg', 'Quests: 1x FIR for the quest Collector, 1x FIR for the quest Living High is Not a Crime - Part 1'], ['Golden neck chain', 'Quests: 9 are used in the quest Chumming, Hideout: 8x for Scav Case'], ['Golden rooster figurine', 'Quests: 1x FIR for the quest Collector, Hideout: 1x for the Scav case, 1x for the Hall of Fame level 2'], ['GP coin', ''], ['Horse figurine', 'Quests: 2x FIR for the quest Living High is Not a Crime - Part 1, Hideout: 1x for the Library'], ['Physical Bitcoin', ''], ['Raven figurine', 'Quests: 1x FIR for the quest Collector, 2x FIR for the quest Living High is Not a Crime - Part 2'], ['Roler Submariner gold wrist watch', 'Quests: 1x FIR for the quest Living High is Not a Crime - Part 1, 1 used in the quest Bullshit, Hideout: 4x for Scav Case'], ['Silver Badge', 'Quests: 1x FIR for the quest Collector'], ['Veritas guitar pick', 'Quests: 1x FIR for the quest Collector'], ['Wooden clock', ''], ['Advanced Electronic Materials textbook', ''], ['BakeEzy cook book', 'Quests: 1x FIR for the quest Collector, Hideout: 1x for the Library'], ['Diary', 'Hideout: 2x for Library'], ['Intelligence folder', 'Hideout: 1x for the Intelligence Center level 1, 3x for Intelligence Center level 2'], ['Military flash drive', 'Quests: 4 x FIR for the quest Special Equipment, Hideout: 5x for Intelligence Center level 3'], ['SAS drive', ''], ['Secure Flash drive', 'Quests: 2 x FIR for the quest Whatâ€™s on the Flash Drive?, 3 x FIR for the quest Shady Business, Hideout: 3x for Intelligence Center level 2'], ['Secure magnetic tape cassette', 'Hideout: 2x for Intelligence Center level 3'], ['Silicon Optoelectronic Integrated Circuits textbook', ''], ['Slim diary', 'Hideout: 2x for Library'], ['SSD drive', 'Hideout: 1x for the Security level 3'], ['Tech manual', 'Hideout: 5x for Library, 1x for the Shooting Range level 3, 1x for the Weapon Rack level 3, 1x for the Hall of Fame level 2'], ['TerraGroup "Blue Folders" materials', '2 are used in the quest Return the Favor'], ['Topographic survey maps', 'Hideout: 1x for the Intelligence Center level 1'], ['Video cassette with the Cyborg Killer movie', 'Quests: 1x FIR for the quest Collector'], ['Body armor repair kit', ''], ['Digital secure DSP radio transmitter', 'Quests: 1 is needed in the quest Getting Acquainted (received upon accepting the quest Knock-Knock).'], ['EYE MK.2 professional hand-held compass', ''], ['Leatherman Multitool', 'Quests: 1 is used in the quest Fishing Gear (received upon accepting the quest)., Hideout: 1x for the Workbench level 1, 1x for the Shooting Range level 3'], ['Radio repeater', 'Quests: 4 are used in the quest Network Provider - Part 2'], ['Signal Jammer', 'Quests: 1 is used in the quest Broadcast - Part 1, 3 are used in the quest Signal - Part 3'], ['Vortex Ranger 1500 rangefinder', ''], ['WI-FI Camera', 'Quests: 1 is used in the quest Drug Trafficking, 3 are used in the quest Informed Means Armed, Hideout: 3x for Shooting range level 2'], ['Weapon repair kit', '']];

const searchterms = ['42 Signature Blend English Tea', 'Apollo Soyuz cigarettes', 'Aramid fiber fabric', 'Battered antique book', 'BEAR Buddy plush toy', 'Pack of Arseniy buckwheat', "Can of Dr. Lupo's coffee beans", 'Can of Majaica coffee beans', 'Cordura polyamide fabric', 'Fleece fabric', 'FP-100 filter absorber', 'Gas mask air filter', 'Gunpowder "Eagle"', 'Gunpowder "Hawk"', 'Gunpowder "Kite"', 'Loot Lord plushie', 'Malboro Cigarettes', 'OFZ 30x160mm shell', 'Paracord', 'Press pass (issued for NoiceGuy)', 'Ripstop fabric', 'Strike Cigarettes', 'UZRGM grenade fuze', 'Water filter', 'Weapon parts', 'Wilston cigarettes', 'Analog thermometer', 'Bolts', 'Corrugated hose', 'Duct tape', 'Insulating tape', 'KEKTAPE duct tape', 'Metal spare parts', 'Military corrugated tube', 'Pack of nails', 'Pack of screws', 'Piece of plexiglass', 'Pressure gauge', 'Screw nuts', 'Shustrilo sealing foam', 'Silicone tube', 'Tube of Poxeram cold welding', 'Xenomorph sealing foam', 'Broken GPhone X smartphone', 'Broken GPhone smartphone', 'Broken LCD', 'Bundle of wires', 'Capacitors', 'CPU fan', 'Damaged hard drive', 'DVD drive', 'Electric drill', 'Electric motor', 'Electronic components', 'Energy-saving lamp', 'Advanced current converter', 'Far-forward GPS Signal Amplifier Unit', 'Gas analyzer', 'Geiger-Muller counter', 'Golden 1GPhone smartphone', 'Graphics card', 'Iridium military thermal vision module', 'Light bulb', 'Magnet', 'Microcontroller board', 'Military cable', 'Military circuit board', 'Military COFDM Wireless Signal Transmitter', 'Military gyrotachometer', 'Military power filter', 'NIXXOR lens', 'PC CPU', 'Phase control relay', 'Phased array element', 'Power cord', 'Power supply unit', 'Printed circuit board', 'Radiator helix', 'RAM', 'Spark plug', 'T-Shaped plug', 'Tetriz portable game console', 'UHF RFID Reader', 'Ultraviolet lamp', 'USB Adapter', 'Virtex programmable processor', 'VPX Flash Storage Module', 'Working LCD', '6-STEN-140-M military battery', 'AA Battery', 'Car battery', 'Cyclon rechargeable battery', 'D Size battery', 'GreenBat lithium battery', 'Portable Powerbank', 'Rechargeable battery', 'Can of thermite', 'Classic matches', 'Crickent lighter', 'Dry fuel', 'Expeditionary fuel tank', '#FireKlean gun lube', 'Fuel conditioner', 'Hunting matches', 'Metal fuel tank', 'Propane tank (5L)', 'SurvL Survivor Lighter', 'TP-200 TNT brick', 'WD-40 (400ml)', 'WD-40 100ml', 'Zibbo lighter', 'Alkaline cleaner for heat exchangers', 'Can of white salt', 'Clin window cleaner', "Deadlyslob's beard oil", "LVNDMARK's rat poison", 'Ortodontox toothpaste', 'Ox bleach', 'Pack of chlorine', 'Pack of sodium bicarbonate', 'PAID AntiRoach spray', 'Printer paper', 'Repellent', 'Schaman shampoo', 'Smoked Chimney drain cleaner', 'Soap', 'Toilet paper', 'Toothpaste', 'Aquapeps water purification tablets', 'Bottle of hydrogen peroxide', 'Bottle of OLOLO Multivitamins', 'Bottle of saline solution', 'Disposable syringe', 'LEDX Skin Transilluminator', 'Medical bloodset', 'Medical tools', 'Ophthalmoscope', 'Pile of meds', 'Portable defibrillator', 'Awl', 'Bulbex cable cutter', 'Construction measuring tape', 'Fierce Blow sledgehammer', 'Flat screwdriver', 'Flat screwdriver (Long)', 'Hand drill', 'Metal cutting scissors', 'Nippers', 'Old firesteel', 'Pipe grip wrench', 'Pliers', 'Pliers Elite', 'Ratchet wrench', 'Round pliers', 'Screwdriver', 'Set of files "Master"', 'Sewing kit', 'Toolset', 'Wrench', 'Name \tNotes', 'Antique teapot', 'Antique vase', 'Axel parrot figurine', 'Bronze lion figurine', 'Cat figurine', 'Chain with Prokill medallion', 'Chainlet', 'Christmas tree ornament (Red)\tEvent Item', 'Christmas tree ornament (Silver)\tEvent Item', 'Christmas tree ornament (Violet)\tEvent Item', 'Gold skull ring', 'Golden egg', 'Golden neck chain', 'Golden rooster figurine', 'GP coin', 'Horse figurine', 'Physical Bitcoin', 'Raven figurine', 'Roler Submariner gold wrist watch', 'Silver Badge', 'Veritas guitar pick', 'Wooden clock', 'Advanced Electronic Materials textbook', 'BakeEzy cook book', 'Diary', 'Intelligence folder', 'Military flash drive', 'SAS drive', 'Secure Flash drive', 'Secure magnetic tape cassette', 'Silicon Optoelectronic Integrated Circuits textbook', 'Slim diary', 'SSD drive', 'Tech manual', 'TerraGroup "Blue Folders" materials', 'Topographic survey maps', 'Video cassette with the Cyborg Killer movie', 'Body armor repair kit', 'Digital secure DSP radio transmitter', 'EYE MK.2 professional hand-held compass', 'Leatherman Multitool', 'Radio repeater', 'Signal Jammer', 'Vortex Ranger 1500 rangefinder', 'WI-FI Camera', 'Weapon repair kit'];
exports.handler = async function (event, context) {
    try {
        // Extract the query term from the request
        const { queryStringParameters } = event;
        const queryTerm = queryStringParameters && queryStringParameters.query;

        // If query term is provided, add it to the URL
        const baseUrl = "https://calm-figolla-de51de.netlify.app/.netlify/functions/quest";
        const url = queryTerm ? `${baseUrl}?query=${encodeURIComponent(queryTerm)}` : baseUrl;

        const yourProcessedData = queryTerm;

        let output = "FILL";
        let searchIndex = -1;
        let notes = "";
        if (queryTerm.length != 0) {
            marketUrl = `https://api.tarkov-market.app/api/v1/nightbot?x-api-key=6dJ67FuraCJjcxjd&q=${queryTerm}`;
            try {
                priceResponse = await axios.get(marketUrl);
                marketData = priceResponse.data;
                console.log(marketData);
                output = marketData;
                if (marketData.includes("₽")) {
                    let array = marketData.split(" ");
                    concatenated = array.slice(0, -1).join(" ");
                    searchIndex = searchData(concatenated);
                    notes = data[searchIndex][1];
                    notes = notes.replace(", Hideout:", " | Hideout:");
                    output = (data[searchIndex][0]).concat(" -> ", notes);
                }
            }
            catch (error) {
                output = "Item not found";
            }

        } else {
            output = "";
        }

        return {
            statusCode: 200,
            body: output,
            headers: {
                'Content-Type': 'text/plain',
            }
        }
    }
    catch (error) {
        return {
            statusCode: 500,
            body: JSON.stringify({ message: "Error", error: error.message }),
        };
    };
}

function searchData(query) {
    // Convert the query to lowercase for case-insensitive matching
    const lowercaseQuery = query.toLowerCase();

    // Split the query into individual terms
    const queryTerms = lowercaseQuery.split(/\s+/);

    // Initialize variables to store the best match and its index
    let bestMatch = '';
    let bestMatchIndex = -1;

    // Loop through the array to find the best match
    for (let i = 0; i < searchterms.length; i++) {
        const currentTerm = searchterms[i].toLowerCase();

        // Check if all query terms are present in the current term
        const allTermsPresent = queryTerms.every(term => currentTerm.includes(term));

        if (allTermsPresent) {
            // Update the best match if the current term is a better match
            if (currentTerm.length > bestMatch.length) {
                bestMatch = currentTerm;
                bestMatchIndex = i;
            }
        }
    }

    // Return the index of the best match
    return bestMatchIndex;
}

const searchQuery = 'Bundle of wires';
const resultIndex = searchData(searchQuery);

// Display the result
if (resultIndex === -1) {
    console.log(`No matches found for '${searchQuery}'.`);
} else {
    console.log(`The most suitable match for '${searchQuery}' is at index ${resultIndex}.`);
}